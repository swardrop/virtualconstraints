\documentclass[12pt,a4paper,twoside,openany]{report}

\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{textcomp}
\usepackage{setspace}
\usepackage[final]{pdfpages}
\usepackage{lscape}
\usepackage{cite}
\usepackage[toc,page]{appendix}
\usepackage{epstopdf}
\usepackage{multicol}
\usepackage[bindingoffset=1cm, includeheadfoot, margin=2cm, top=1.5cm, bottom=1cm, headsep=0.8cm, footskip=1.2cm]{geometry}
\usepackage{fancyhdr}
\usepackage{url}
\usepackage{lscape}
\usepackage{rotating}
\usepackage{booktabs}
\usepackage{float}
\usepackage{cancel}
\usepackage[framed,numbered,autolinebreaks,useliterate]{mcode}
\usepackage[colorlinks=false,pdfborder={0 0 0}]{hyperref}
\usepackage{placeins}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{breqn}
\usepackage{titlesec}
\usepackage{pdfpages}
\usepackage[nottoc,numbib,notlof,notlot]{tocbibind}
\usepackage{enumitem}
\usepackage{changepage}
\usepackage[parfill]{parskip}
\usepackage{nomencl}
\usepackage{tikz}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{tocloft}

\setlength{\cftbeforechapskip}{1.0em plus 0.3em minus 0.1em}

\titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsubsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\makenomenclature

\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

\AtBeginDocument{\renewcommand{\bibname}{References}}
\bibliographystyle{plain}
% Figures within a column...
\makeatletter
\newenvironment{tablehere}
{\def\@captype{table}}
{}
\newenvironment{figurehere}
{\def\@captype{figure}}
{}
\makeatother
  
%commands
\providecommand{\e}[1]{\ensuremath{\times 10^{#1}}}

% Document properties
\hypersetup{pdfauthor={Stephen Wardrop},pdftitle={Honours Thesis}}

% Set figure numbering
\renewcommand{\theequation}{\thechapter\arabic{equation}}
\renewcommand{\thefigure}{\thechapter\arabic{figure}}
\renewcommand{\thetable}{\thechapter\arabic{table}}
\renewcommand{\thealgorithm}{\thetchapter\arabic{algorithm}}
\numberwithin{equation}{chapter}
\numberwithin{figure}{chapter}
\numberwithin{table}{chapter}
\numberwithin{algorithm}{chapter}


\renewcommand{\chaptermark}[1]{\markright{}}
\renewcommand{\sectionmark}[1]{\markleft{}}

\begin{document}
\input{0FrontMatter}

\fancyhf{}
\pagestyle{fancy}
\fancyhead[LO]{\textit{\leftmark}}
\fancyhead[RE]{\textit{\rightmark}}
\fancyfoot[CE,CO]{\thepage}
\pagenumbering{arabic}
\setcounter{page}{1}
\onehalfspacing

\begingroup
\titleformat{\chapter}[display]
	{\bfseries\Large}
	{}
	{-4.45cm}
	{\vspace{1ex}
	\ifnum\value{chapter}>0 \MakeUppercase{\chaptertitlename}~\Huge\thechapter \fi
		~ \Large\filright}
	[\vspace{1ex}\titlerule]

\chapter{Introduction}
\input{1Introduction}

\chapter{Literature Review}
\input{2LitReview}

\chapter{Technical Background}
\input{3TechBackground}

\chapter{Virtual Constraint Library} \label{chap:vclib}
\input{4VirtConstLib}

\chapter{Path Planning Algorithm}
\input{5AlgDesign}

\chapter{Results}
\input{7Results}

\chapter{Discussion}
\input{8Disc}

\addtocontents{toc}{\protect\newpage}
\chapter{Conclusion}
\input{9Conc}

\bibliography{references}

\begin{appendices}
\renewcommand{\thefigure}{\Alph{chapter}.\arabic{figure}}
\renewcommand{\theequation}{\Alph{chapter}.\arabic{equation}}
\renewcommand{\thetable}{\Alph{chapter}.\arabic{table}}
\input{91App}
\input{6Sim}
\end{appendices}

\endgroup

\end{document}
